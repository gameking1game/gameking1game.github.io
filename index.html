<script>
    const users = [
        { username: "Yönetici", password: "Yönetici1", isAdmin: true, transactionNumber: "ADMINGAMEKİNGPOYRAZ" },
        { username: "Yönetici2", password: "A1", isAdmin: true, transactionNumber: "ADMINGAMEKİNG" },
        { username: "GAMEKINGPOYRAZ", password: "ADMIN1", isAdmin: true, transactionNumber: "ADMIN1" },
        // Add more users here as needed
    ];

    let currentUser = null;
    let inbox = [];

    function login() {
        const username = document.getElementById('loginUsername').value;
        const password = document.getElementById('loginPassword').value;

        currentUser = users.find(user => user.username === username && user.password === password);

        if (currentUser) {
            const transactionNumber = prompt("İşlem numaranızı yazın:");
            if (transactionNumber === currentUser.transactionNumber) {
                showUserInterface();
            } else {
                alert("Geçersiz işlem numarası.");
                currentUser = null;
            }
        } else {
            alert("Geçersiz kullanıcı adı veya şifre.");
        }
    }

    function logout() {
        currentUser = null;
        document.getElementById('loginSection').style.display = 'block';
        document.getElementById('infoSection').style.display = 'none';
    }

    function showRegisterAlert() {
        alert('GAME KİNG POYRAZ DESTEK\'TEN ŞİFRE ALIN');
    }

    function createAccount() {
        if (currentUser && currentUser.isAdmin) {
            const newUsername = prompt("Yeni kullanıcı adı girin:");
            const newPassword = prompt("Yeni şifre girin:");
            const transactionNumber = prompt("Yeni işlem numarası girin:");

            if (newUsername && newPassword && transactionNumber) {
                if (users.find(u => u.username === newUsername)) {
                    alert("Bu kullanıcı adı zaten mevcut.");
                } else {
                    users.push({ username: newUsername, password: newPassword, isAdmin: false, transactionNumber: transactionNumber });
                    alert("Yeni hesap başarıyla oluşturuldu!");
                }
            } else {
                alert("Kullanıcı adı, şifre ve işlem numarası boş olamaz.");
            }
        } else {
            alert("Sadece yönetici bu işlemi gerçekleştirebilir.");
        }
    }

    function sendMessage() {
        const accountName = prompt("HESAP ADI:");
        const accountLevel = prompt("HESAP SEVİYESİ:");
        const accountStatus = prompt("HESABA ŞUAN NE YAPILIYOR:");

        const recipient = users.find(u => u.username === accountName);
        if (recipient) {
            inbox.push(`HESAP ADI: ${accountName}\nHESAP SEVİYESİ: ${accountLevel}\nHESABA ŞUAN NE YAPILIYOR: ${accountStatus}`);
            alert("Mesaj başarıyla gönderildi!");
            // Make the inbox button blink for the specific user
            if (recipient.username === currentUser.username) {
                document.getElementById('inboxButton').classList.add('yellow-blink');
            }
        } else {
            alert("Kullanıcı bulunamadı.");
        }
    }

    function showUserInterface() {
        document.getElementById('loginSection').style.display = 'none';
        document.getElementById('infoSection').style.display = 'block';
        document.getElementById('userName').innerText = currentUser.username;

        if (currentUser.isAdmin) {
            document.getElementById('accountActionButton').style.display = 'block';
            document.getElementById('announcementButton').style.display = 'block';
            document.getElementById('messageButton').style.display = 'block';
        }
    }

    function viewInbox() {
        if (inbox.length === 0) {
            alert("Henüz gelen mesajınız yok.");
        } else {
            alert("Gelen Mesajlar:\n" + inbox.join("\n"));
        }
    }
</script>

<button id="registerButton" onclick="showRegisterAlert()">Üye Oluştur</button>
<button id="loginButton" onclick="login()">Giriş Yap</button>
<button id="accountActionButton" style="display:none;" onclick="createAccount()">Hesap Oluştur</button>
<button id="messageButton" style="display:none;" onclick="sendMessage()">Mesaj Gönder</button>
<button id="inboxButton" onclick="viewInbox()">Gelen Kutusu</button>

<div id="loginSection">
    <input type="text" id="loginUsername" placeholder="Kullanıcı Adı">
    <input type="password" id="loginPassword" placeholder="Şifre">
</div>

<div id="infoSection" style="display:none;">
    <p>Hoş geldiniz, <span id="userName"></span></p>
</div>

<style>
    .yellow-blink {
        animation: yellowBlink 1s infinite;
    }

    @keyframes yellowBlink {
        0% { background-color: transparent; }
        50% { background-color: yellow; }
        100% { background-color: transparent; }
    }
</style>
